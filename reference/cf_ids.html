<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Specify ids for fly connectome datasets — cf_ids • coconatfly</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Specify ids for fly connectome datasets — cf_ids"><meta name="description" content="Specify ids for fly connectome datasets"><meta property="og:description" content="Specify ids for fly connectome datasets"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">coconatfly</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/natverse/coconatfly/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Specify ids for fly connectome datasets</h1>
      <small class="dont-index">Source: <a href="https://github.com/natverse/coconatfly/blob/master/R/ids.R" class="external-link"><code>R/ids.R</code></a></small>
      <div class="d-none name"><code>cf_ids.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Specify ids for fly connectome datasets</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cf_ids</span><span class="op">(</span></span>
<span>  query <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  datasets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"brain"</span>, <span class="st">"vnc"</span>, <span class="st">"hemibrain"</span>, <span class="st">"flywire"</span>, <span class="st">"malecns"</span>, <span class="st">"manc"</span>, <span class="st">"fanc"</span>,</span>
<span>    <span class="st">"opticlobe"</span>, <span class="st">"banc"</span>, <span class="st">"yakubavnc"</span><span class="op">)</span>,</span>
<span>  expand <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keys <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  hemibrain <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  flywire <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  malecns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  manc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fanc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  opticlobe <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  banc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  yakubavnc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'cidlist'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">...</span>, unique <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-query">query<a class="anchor" aria-label="anchor" href="#arg-query"></a></dt>
<dd><p>A query (e.g. cell type name or regular expression)</p></dd>


<dt id="arg-datasets">datasets<a class="anchor" aria-label="anchor" href="#arg-datasets"></a></dt>
<dd><p>Character vector naming datasets to which the <code>query</code>
should be applied.</p></dd>


<dt id="arg-expand">expand<a class="anchor" aria-label="anchor" href="#arg-expand"></a></dt>
<dd><p>Whether to expand any queries into the matching ids (this will
involve one or more calls to corresponding servers). Default <code>FALSE</code>.</p></dd>


<dt id="arg-keys">keys<a class="anchor" aria-label="anchor" href="#arg-keys"></a></dt>
<dd><p>Whether to turn the ids into keys <code>hb:12345</code> right away.
Default <code>FALSE</code> but you may find this useful e.g. for combining lists
of neurons (see examples).</p></dd>


<dt id="arg-hemibrain">hemibrain<a class="anchor" aria-label="anchor" href="#arg-hemibrain"></a></dt>
<dd><p>Pass hemibrain specific query or ids to this argument</p></dd>


<dt id="arg-flywire">flywire<a class="anchor" aria-label="anchor" href="#arg-flywire"></a></dt>
<dd><p>Pass flywire specific query or ids to this argument</p></dd>


<dt id="arg-malecns">malecns<a class="anchor" aria-label="anchor" href="#arg-malecns"></a></dt>
<dd><p>Pass malecns specific query or ids to this argument</p></dd>


<dt id="arg-manc">manc<a class="anchor" aria-label="anchor" href="#arg-manc"></a></dt>
<dd><p>Pass manc specific query or ids to this argument</p></dd>


<dt id="arg-fanc">fanc<a class="anchor" aria-label="anchor" href="#arg-fanc"></a></dt>
<dd><p>Pass fanc ids to this argument (at present we do not support
metadata queries for fanc)</p></dd>


<dt id="arg-opticlobe">opticlobe<a class="anchor" aria-label="anchor" href="#arg-opticlobe"></a></dt>
<dd><p>Pass opticlobe specific query or ids to this argument</p></dd>


<dt id="arg-banc">banc<a class="anchor" aria-label="anchor" href="#arg-banc"></a></dt>
<dd><p>Pass banc ids to this argument (we only support basic metadata
queries for banc)</p></dd>


<dt id="arg-yakubavnc">yakubavnc<a class="anchor" aria-label="anchor" href="#arg-yakubavnc"></a></dt>
<dd><p>Pass yakuba VNC specific query or ids to this argument</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>One or more lists generated by <code>cf_ids</code> that should be joined
together</p></dd>


<dt id="arg-unique">unique<a class="anchor" aria-label="anchor" href="#arg-unique"></a></dt>
<dd><p>Whether to remove duplicated ids when combining cf_id lists
with <code>c.cidlist</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of ids with additional class <code>cidlist</code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>You will often want to perform a query, most commonly for a cell
  <em>type</em> or cell <em>class</em>, rather than specific numeric ids. The
  most flexible way to do this is to use a regular expression (regex) query,
  specified with an initial <code>"/"</code>.</p>
<p>All neuprint datasets (hemibrain, malevnc, opticlobe, malecns) use the same
  query syntax although some fields may be dataset specific (see examples).
  The regex syntax for CAVE datasets (flywire, fanc, banc) should be the same
  although you may find some wrinkles because the underlying data stores are
  different. Note that we do not yet translate all the different fields
  across datasets for queries, although this is a goal. For example the
  neuprint/fanc/banc <code>class</code> field is equivalent to flywire
  <code>super_class</code>. Similarly the values are not guaranteed to be the same.
  Where flywire uses <code>super_class=="descending")</code> the manc uses
  <code>class=="descending neuron")</code>.</p>
<p>Therefore to find all DNs in these two datasets you will need to do:
  <code>cf_ids(manc='/class:descending.*',
  flywire='/super_class:descending.*')</code></p>
<p>Feel free to <a href="https://github.com/natverse/coconatfly/issues" class="external-link">make an
  issue</a> if you find something that doesn't feel right or can suggest an improvement.</p>
    </div>
    <div class="section level2">
    <h2 id="additional-datasets">Additional datasets<a class="anchor" aria-label="anchor" href="#additional-datasets"></a></h2>
    <p>coconatfly allows can be extended by
  registering additional datasets using the
  <code><a href="https://natverse.org/coconat/reference/register_dataset.html" class="external-link">coconat::register_dataset</a></code> function. You can use <code>cf_ids</code>
  to support these additional datasets by passing additional named arguments.
  The only inconvenience is that these will not be available for command
  completion by your editor.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other ids:
<code><a href="keys.html">keys</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="fu">cf_ids</span><span class="op">(</span><span class="st">"DA2_lPN"</span>, datasets<span class="op">=</span><span class="st">'brain'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">banc</span> <span style="color: #555555;">[1 ids]</span>: DA2_lPN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">flywire</span> <span style="color: #555555;">[1 ids]</span>: DA2_lPN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">hemibrain</span> <span style="color: #555555;">[1 ids]</span>: DA2_lPN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">malecns</span> <span style="color: #555555;">[1 ids]</span>: DA2_lPN</span>
<span class="r-in"><span><span class="co"># / introduces a regular expression</span></span></span>
<span class="r-in"><span><span class="fu">cf_ids</span><span class="op">(</span><span class="st">"/MBON.+"</span>, datasets<span class="op">=</span><span class="st">'brain'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">banc</span> <span style="color: #555555;">[1 ids]</span>: /MBON.+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">flywire</span> <span style="color: #555555;">[1 ids]</span>: /MBON.+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">hemibrain</span> <span style="color: #555555;">[1 ids]</span>: /MBON.+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">malecns</span> <span style="color: #555555;">[1 ids]</span>: /MBON.+</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># expand query into actual ids</span></span></span>
<span class="r-in"><span><span class="fu">cf_ids</span><span class="op">(</span><span class="st">"/type:MBON.+"</span>, datasets<span class="op">=</span><span class="st">'brain'</span>, expand<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using malecns dataset `male-cns:v0.9`.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> See ?malecns section Package Options for details.</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> In expand_ids: Unable to process query for dataset: `banc`. Details:</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> Error: To use the banc dataset please do `natmanager::install(pkgs = 'flyconnectome/bancr')` </span>
<span class="r-err co"><span class="r-pr">#&gt;</span> TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># return keys directly</span></span></span>
<span class="r-in"><span><span class="fu">cf_ids</span><span class="op">(</span><span class="st">"/type:MBON.+"</span>, keys<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> In expand_ids: Unable to process query for dataset: `banc`. Details:</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> Error: To use the banc dataset please do `natmanager::install(pkgs = 'flyconnectome/bancr')` </span>
<span class="r-err co"><span class="r-pr">#&gt;</span> TRUE</span>
<span class="r-in"><span><span class="co"># one way of combining separate lists of neurons</span></span></span>
<span class="r-in"><span><span class="va">hbids</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">264083994</span>, <span class="fl">5813022274</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">cf_ids</span><span class="op">(</span><span class="st">"/type:MBON1.+"</span>, keys<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>, <span class="fu">cf_ids</span><span class="op">(</span>hemibrain <span class="op">=</span> <span class="va">hbids</span>, keys <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> In expand_ids: Unable to process query for dataset: `banc`. Details:</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> Error: To use the banc dataset please do `natmanager::install(pkgs = 'flyconnectome/bancr')` </span>
<span class="r-err co"><span class="r-pr">#&gt;</span> TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now equivalent to</span></span></span>
<span class="r-in"><span><span class="fu"><a href="keys.html">keys</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">cf_ids</span><span class="op">(</span><span class="st">"/type:MBON1.+"</span><span class="op">)</span>, <span class="fu">cf_ids</span><span class="op">(</span>hemibrain <span class="op">=</span> <span class="va">hbids</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> In expand_ids: Unable to process query for dataset: `banc`. Details:</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> Error: To use the banc dataset please do `natmanager::install(pkgs = 'flyconnectome/bancr')` </span>
<span class="r-err co"><span class="r-pr">#&gt;</span> TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># queries on classes respecting dataset idiosyncrasies</span></span></span>
<span class="r-in"><span><span class="fu">cf_ids</span><span class="op">(</span>manc<span class="op">=</span><span class="st">"/class:descend.+"</span>, flywire<span class="op">=</span><span class="st">"/super_class:descend.+"</span>, expand <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">flywire</span> <span style="color: #555555;">[1303 ids]</span>: 720575940624402173 720575940627055303 720575940631082808 720575940623037720 720575940629543409 720575940618666142 720575940638109668 720575940630697078 720575940610610841 720575940618870881 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">manc</span> <span style="color: #555555;">[1328 ids]</span>: 28478 31361 156265 19821 22072 24087 29182 30346 31742 33545 ...</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">cf_ids</span><span class="op">(</span>flywire <span class="op">=</span> <span class="fl">1</span>, hemibrain <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, <span class="fu">cf_ids</span><span class="op">(</span>hemibrain <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, flywire<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">flywire</span> <span style="color: #555555;">[2 ids]</span>: 1 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">hemibrain</span> <span style="color: #555555;">[2 ids]</span>: 2 1</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">cf_ids</span><span class="op">(</span>flywire <span class="op">=</span> <span class="fl">1</span>, hemibrain <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, <span class="fu">cf_ids</span><span class="op">(</span>hemibrain <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, flywire<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>, unique<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">flywire</span> <span style="color: #555555;">[3 ids]</span>: 1 1 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">hemibrain</span> <span style="color: #555555;">[3 ids]</span>: 2 1 2</span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">cf_ids</span><span class="op">(</span>flywire <span class="op">=</span> <span class="fl">1</span>, hemibrain <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, <span class="fu">cf_ids</span><span class="op">(</span>hemibrain <span class="op">=</span> <span class="st">'/SMP55[0-9]'</span>, flywire<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">flywire</span> <span style="color: #555555;">[2 ids]</span>: 1 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">hemibrain</span> <span style="color: #555555;">[19 ids]</span>: 2 452689494 579700707 328274638 392757094 605166418 298262663 361114148 669670654 613394707 ...</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gregory Jefferis.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

